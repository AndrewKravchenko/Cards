(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],Array(18).concat([function(e,t,n){e.exports={nav:"Nav_nav__VE29K",navControl:"Nav_navControl__q9neT",navContent:"Nav_navContent__3Czvi",navItems:"Nav_navItems__37FoA",navItem:"Nav_navItem__nAPWr",navItemLink:"Nav_navItemLink__2Vf4X",linkRotate:"Nav_linkRotate__3TONa",navItemLinkActive:"Nav_navItemLinkActive__1-Yl7",navBtn:"Nav_navBtn__hd2I5"}},function(e,t,n){e.exports={form:"RecoveryPassForm_form__2fk97 form_form__a6yyo",messageWrapper:"RecoveryPassForm_messageWrapper__fPqq6",link:"RecoveryPassForm_link__3t279 LinkNative_link__hGO0Z",spanAvatar:"RecoveryPassForm_spanAvatar__ejPYo"}},function(e,t,n){e.exports={packsModal:"Packs_packsModal__2Gb97",form:"Packs_form__38web",packsDescription:"Packs_packsDescription__atyIN",paginator:"Packs_paginator__Y5DMI",paginatorItems:"Packs_paginatorItems__3OfWh",inputPage:"Packs_inputPage__2fxQZ",linksForm:"Packs_linksForm__3fqe_",link:"Packs_link__27AM4 LinkNative_link__hGO0Z",hGridContainer:"Packs_hGridContainer__37TVg"}},function(e,t,n){e.exports={page:"Error404Page_page__3pOuS",title:"Error404Page_title__DmawO",text:"Error404Page_text__18c0F",footer:"Error404Page_footer__1Cf4V",footerText:"Error404Page_footerText__1oXY9",link:"Error404Page_link__3Kzqd LinkNative_link__hGO0Z"}},,function(e,t,n){e.exports={inputWrapper:"InputText_inputWrapper__2htqf",errorMessage:"InputText_errorMessage__3yIyw",label:"InputText_label__22uGC",text:"InputText_text__1OAjg",input:"InputText_input__23_di",error:"InputText_error__21ezK"}},,,function(e,t,n){e.exports={btn:"Button_btn__dgCCX",large:"Button_large__2WdYn",small:"Button_small__2gjkf",default:"Button_default__1fIO7",error:"Button_error__3Np7c"}},function(e,t,n){e.exports={paginator:"Paginator_paginator__3j5OD",active:"Paginator_active__2WK2K",paginatorItems:"Paginator_paginatorItems__SPC1t"}},,,function(e,t,n){e.exports={form:"TrainForm_form__2am2r form_form__a6yyo",trainBlock:"TrainForm_trainBlock__JOO5x",grade:"TrainForm_grade__dud6m",active:"TrainForm_active__YfqbD"}},,function(e,t,n){e.exports={form:"LoginForm_form__1gpGZ form_form__a6yyo",linksForm:"LoginForm_linksForm__3WehA",link:"LoginForm_link__2QSbo LinkNative_link__hGO0Z"}},function(e,t,n){e.exports={checkboxWrapper:"InputCheckbox_checkboxWrapper__2wAqz",checkbox:"InputCheckbox_checkbox__3gPmy",label:"InputCheckbox_label__2oNoo",info:"InputCheckbox_info__1monh"}},function(e,t,n){e.exports={radioWrapper:"InputRadio_radioWrapper__VLFsv",radio:"InputRadio_radio__zFt8P",label:"InputRadio_label__3COpZ"}},,,,,function(e,t,n){e.exports={header:"Header_header__3h183",container:"Header_container__2uUPK container_container__PX4-e"}},function(e,t,n){e.exports={preloader:"Preloader_preloader__3FUM8",loader:"Preloader_loader__28BcO",load:"Preloader_load__3odh4"}},,,function(e,t,n){e.exports={form:"RegistrationForm_form__3ynJP form_form__a6yyo",link:"RegistrationForm_link__3EmAX LinkNative_link__hGO0Z"}},,function(e,t,n){e.exports={main:"Main_main__ib6B-",container:"Main_container__1V-h- container_container__PX4-e"}},,,,,,,,,,,,function(e,t,n){},function(e,t,n){e.exports={page:"LoginPage_page__2921G page_page__31uF2"}},function(e,t,n){e.exports={message:"ErrorMessage_message__15zE2",shake:"ErrorMessage_shake__1Izju"}},,function(e,t,n){e.exports={page:"RegistrationPage_page__kZj2O page_page__31uF2"}},function(e,t,n){e.exports={page:"RecoveryPassPage_page__7i91j page_page__31uF2"}},function(e,t,n){e.exports={page:"SetPassPage_page__4r-_B page_page__31uF2"}},function(e,t,n){e.exports={page:"ProfilePage_page__2SAW9 page_page__31uF2"}},function(e,t,n){e.exports={page:"Packs_page__3qwbU page_page__31uF2"}},function(e,t,n){e.exports={search:"Search_search__1ixmG"}},function(e,t,n){e.exports={page:"TrainPage_page__3aywU page_page__31uF2"}},function(e,t,n){e.exports={page:"Cards_page__2JSyE page_page__31uF2"}},function(e,t,n){e.exports={packsModal:"Cards_packsModal__2N541",form:"Cards_form__10qoN",paginator:"Cards_paginator__3zIRk",paginatorItems:"Cards_paginatorItems__2ykRB",inputPage:"Cards_inputPage__257HV",linksForm:"Cards_linksForm__5yVdN",link:"Cards_link__GITJ6 LinkNative_link__hGO0Z",hGridContainer:"Cards_hGridContainer__3z2Z_"}},,,,function(e,t,n){e.exports={messageWrapper:"InfoMessage_messageWrapper__1vn64"}},function(e,t,n){e.exports={page:"TestPage_page__uEre9 page_page__31uF2"}},function(e,t,n){e.exports={table:"Test_table__1U9P9"}},function(e,t,n){e.exports={link:"LinkNative_link__hGO0Z"}},function(e,t,n){e.exports={select:"Select_select__3wUUe"}},,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var r,a=n(1),c=n.n(a),s=n(11),i=n.n(s),o=(n(84),n(7)),u=n(57),l=n.n(u),d=n(39),j=n.n(d),p=n(8),b=n(58),h=n.n(b),O=n(3),f=n(32),_=n.n(f),g=n(2),x=n(16),m=n(23),v=n.n(m),C=n(0),k=function(e){switch(e.type){case"text":return Object(C.jsx)("svg",{viewBox:"0 0 484 484",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"m401.648438 18.234375c-24.394532-24.351563-63.898438-24.351563-88.292969 0l-22.101563 22.222656-235.269531 235.144531-.5.503907c-.121094.121093-.121094.25-.25.25-.25.375-.625.746093-.871094 1.121093 0 .125-.128906.125-.128906.25-.25.375-.371094.625-.625 1-.121094.125-.121094.246094-.246094.375-.125.375-.25.625-.378906 1 0 .121094-.121094.121094-.121094.25l-52.199219 156.96875c-1.53125 4.46875-.367187 9.417969 2.996094 12.734376 2.363282 2.332031 5.550782 3.636718 8.867188 3.625 1.355468-.023438 2.699218-.234376 3.996094-.625l156.847656-52.324219c.121094 0 .121094 0 .25-.121094.394531-.117187.773437-.285156 1.121094-.503906.097656-.011719.183593-.054688.253906-.121094.371094-.25.871094-.503906 1.246094-.753906.371093-.246094.75-.621094 1.125-.871094.125-.128906.246093-.128906.246093-.25.128907-.125.378907-.246094.503907-.5l257.371093-257.371094c24.351563-24.394531 24.351563-63.898437 0-88.289062zm-232.273438 353.148437-86.914062-86.910156 217.535156-217.535156 86.914062 86.910156zm-99.15625-63.808593 75.929688 75.925781-114.015626 37.960938zm347.664062-184.820313-13.238281 13.363282-86.917969-86.917969 13.367188-13.359375c14.621094-14.609375 38.320312-14.609375 52.945312 0l33.964844 33.964844c14.511719 14.6875 14.457032 38.332031-.121094 52.949218zm0 0"})});case"email":return Object(C.jsx)("svg",{viewBox:"0 0 512 512",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:Object(C.jsx)("path",{d:"M467 61H45C20.218 61 0 81.196 0 106v300c0 24.72 20.128 45 45 45h422c24.72 0 45-20.128 45-45V106c0-24.72-20.128-45-45-45zm-6.214 30L256.954 294.833 51.359 91h409.427zM30 399.788V112.069l144.479 143.24L30 399.788zM51.213 421l144.57-144.57 50.657 50.222c5.864 5.814 15.327 5.795 21.167-.046L317 277.213 460.787 421H51.213zM482 399.787L338.213 256 482 112.212v287.575z"})});case"password":return Object(C.jsxs)("svg",{viewBox:"0 0 24 24",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[Object(C.jsx)("path",{d:"m18.75 24h-13.5c-1.24 0-2.25-1.009-2.25-2.25v-10.5c0-1.241 1.01-2.25 2.25-2.25h13.5c1.24 0 2.25 1.009 2.25 2.25v10.5c0 1.241-1.01 2.25-2.25 2.25zm-13.5-13.5c-.413 0-.75.336-.75.75v10.5c0 .414.337.75.75.75h13.5c.413 0 .75-.336.75-.75v-10.5c0-.414-.337-.75-.75-.75z"}),Object(C.jsx)("path",{d:"m17.25 10.5c-.414 0-.75-.336-.75-.75v-3.75c0-2.481-2.019-4.5-4.5-4.5s-4.5 2.019-4.5 4.5v3.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75v-3.75c0-3.309 2.691-6 6-6s6 2.691 6 6v3.75c0 .414-.336.75-.75.75z"}),Object(C.jsx)("path",{d:"m12 17c-1.103 0-2-.897-2-2s.897-2 2-2 2 .897 2 2-.897 2-2 2zm0-2.5c-.275 0-.5.224-.5.5s.225.5.5.5.5-.224.5-.5-.225-.5-.5-.5z"}),Object(C.jsx)("path",{d:"m12 20c-.414 0-.75-.336-.75-.75v-2.75c0-.414.336-.75.75-.75s.75.336.75.75v2.75c0 .414-.336.75-.75.75z"})]});default:return Object(C.jsxs)("svg",{height:"48",width:"48",viewBox:"0 0 512 512","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",children:[Object(C.jsx)("path",{d:"M132.893 310.534l-30.082 10.911L91.9 291.364l30.081-10.911z"}),Object(C.jsx)("path",{d:"M271.552 301.072l-77.856-46.72-41.616 15.152 10.944 30.064 27.28-9.92 82.144 49.28 97.6-65.072L480 315.088V480H32V347.2l40.8-14.848-10.928-30.048L0 324.8V512h512V292.912l-146.048-54.768z"}),Object(C.jsx)("path",{d:"M0 0v278.848l66.576-24.224-10.928-30.064L32 233.152V32h448v168.912l-114.048-42.768-94.4 62.928-77.856-46.72-47.84 17.392 10.944 30.064 33.504-12.16 82.144 49.28 97.6-65.072L512 247.088V0z"}),Object(C.jsx)("path",{d:"M96.656 243.686L85.721 213.63l30.07-10.94 10.935 30.055z"})]})}},S=function(e){var t=e.type,n=void 0===t?"text":t,r=e.onChange,a=e.onChangeText,c=e.onKeyPress,s=e.onEnter,i=e.error,o=e.className,u=e.errorClassName,l=e.text,d=Object(x.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","errorClassName","text"]),j="".concat(v.a.errorMessage," ").concat(u||""),p="".concat(v.a.input," ").concat(i?v.a.error:""," ").concat(o||"");return Object(C.jsxs)("div",{className:v.a.inputWrapper,children:[i&&Object(C.jsx)("span",{className:j,children:i}),Object(C.jsxs)("label",{className:v.a.label,children:[Object(C.jsx)("span",{className:v.a.text,children:l||"Enter your ".concat(n)}),Object(C.jsx)("input",Object(g.a)({type:n,onChange:function(e){r&&r(e),a&&a(e.currentTarget.value)},onKeyPress:function(e){c&&c(e),"Enter"===e.key&&s&&s()},className:p},d)),Object(C.jsx)(k,{type:n})]})]})},E=n(10),N=n(26),R=n.n(N),P=function(e){var t=e.error,n=e.large,r=e.small,a=e.className,c=Object(x.a)(e,["error","large","small","className"]),s="".concat(R.a.btn," ").concat(n?R.a.large:""," ").concat(r?R.a.small:""," ").concat(t?R.a.error:R.a.default," ").concat(a||"");return Object(C.jsx)("button",Object(g.a)({className:s},c))},A=n(33),T=n.n(A),y=function(e){e.type;var t=e.onChange,n=e.onChangeChecked,r=e.className,a=e.labelClassName,c=e.children,s=Object(x.a)(e,["type","onChange","onChangeChecked","className","labelClassName","children"]),i="".concat(T.a.label," ").concat(a||""),o="".concat(T.a.checkbox," ").concat(r||"");return Object(C.jsxs)("label",{className:T.a.checkboxWrapper,children:[Object(C.jsx)("input",Object(g.a)({type:"checkbox",onChange:function(e){t&&t(e),n&&n(e.currentTarget.checked)},className:o},s)),Object(C.jsx)("span",{className:i,children:c})]})},I=function(){return Math.floor(1e9*Math.random()).toString(16)},w=n(40),L=n.n(w),D=function(e){var t=e.text;return Object(C.jsx)("div",{className:L.a.preloader,children:Object(C.jsx)("div",{className:L.a.loader,children:t})})},G=function(e,t){var n=Object(a.useState)(e),r=Object(O.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(O.a)(i,2),u=o[0],l=o[1],d=function(e,t){var n=Object(a.useState)(""),r=Object(O.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(O.a)(i,2),u=o[0],l=o[1];return Object(a.useEffect)((function(){for(var n in t)switch(n){case"isEmail":0===e.length?s("Email is required"):/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?s(""):s("Email address is invalid");break;case"isPassword":0===e.length?s("Password is required"):e.length<(t.minLength?t.minLength:8)?s("Password must be 8 or more characters"):s("")}}),[e,t]),Object(a.useEffect)((function(){l(!c)}),[c]),{setInputError:s,inputError:c,inputValid:u}}(c,t);return Object(g.a)({setDirty:l,setValue:s,value:c,onChange:function(e){s(e.target.value)},onBlur:function(e){l(!0)},isDirty:u},d)},M=n(59),F=n.n(M),U=function(e){var t=e.children,n=e.clickHandler;return Object(C.jsxs)("div",{className:F.a.message,children:[Object(C.jsx)("p",{children:t}),n&&Object(C.jsx)(P,{small:!0,error:!0,onClick:n,children:"Close"})]})},K=function(e){var t=e.loginLinks,n=e.sendLogin,r=e.loading,c=e.success,s=e.setSuc,i=e.error,o=e.userId,u=e.closeMessage,l=e.redirectLink,d=Object(a.useState)(!1),j=Object(O.a)(d,2),b=j[0],h=j[1],f=G("",{isEmail:!0}),g=G("",{minLength:8,isPassword:!0});if(Object(a.useEffect)((function(){c&&(f.setValue(""),g.setValue(""),h(!1),s(!1))}),[c,s,f,g]),o)return Object(C.jsx)(p.a,{to:l});var x=function(e){return function(){u(""),e&&e.setDirty(!1)}};return Object(C.jsxs)("form",{className:_.a.form,onSubmit:function(e){e.preventDefault(),f.value.trim()&&g.value.trim()&&n(f.value,g.value,b)},children:[Object(C.jsxs)("div",{children:[r&&Object(C.jsx)(D,{text:"Sending..."}),i&&Object(C.jsx)(U,{clickHandler:x(),children:i})]}),f.isDirty&&f.inputError&&Object(C.jsx)(U,{clickHandler:x(f),children:f.inputError}),Object(C.jsx)(S,{placeholder:"Login",type:"email",onChange:function(e){return f.onChange(e)},onBlur:function(e){return f.onBlur(e)},value:f.value,disabled:r}),g.isDirty&&g.inputError&&Object(C.jsx)(U,{clickHandler:x(g),children:g.inputError}),Object(C.jsx)(S,{placeholder:"Password",type:"password",onChange:function(e){return g.onChange(e)},onBlur:function(e){return g.onBlur(e)},value:g.value,disabled:r}),Object(C.jsx)(y,{type:"checkbox",checked:b,onChangeChecked:h,children:" Remember me"}),Object(C.jsx)(P,{type:"submit",disabled:!f.inputValid||!g.inputValid||r,children:"Submit"}),Object(C.jsx)("div",{className:_.a.linksForm,children:t.map((function(e){var t=e.link,n=e.title;return Object(C.jsx)(E.b,{to:t,className:_.a.link,children:n},I())}))})]})},z=function(e){return"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1))},B=function(e){return e.slice(1,e.length).replace(/-/g," ")},V=o.c,q=n(4),W=n.n(q),H=n(6),Z=n(60),Y=!1,X=n.n(Z).a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),J=function(e){var t=e.email,n=e.password,r=e.rememberMe;return X.post("auth/login",{email:t,password:n,rememberMe:r}).then((function(e){return e.data}))},Q=function(){return X.delete("auth/me").then((function(e){return e.data}))},$=function(){return X.post("auth/me").then((function(e){return e.data}))},ee=function(e){var t=e.name,n=e.avatar;return X.put("auth/me",{updatedUser:{name:t,avatar:n}}).then((function(e){return e.data}))},te=function(e){var t=e.cardsPack_id,n=e.pageCount,r=e.page;return X.get("cards/card",{params:{cardsPack_id:t,pageCount:n,page:r}}).then((function(e){return e.data}))},ne=function(e){var t=e.cardsPack_id,n=e.question,r=e.answer;return X.post("cards/card",{card:{cardsPack_id:t,question:n,answer:r}}).then((function(e){return e.data}))},re=function(e){var t=e._id,n=e.question,r=e.answer;return X.put("cards/card",{card:{_id:t,question:n,answer:r}}).then((function(e){return e.data}))},ae=function(e){var t=e.grade,n=e.card_id;return X.put("cards/grade",{grade:t,card_id:n}).then((function(e){return e.data}))},ce=function(e){return X.delete("cards/card",{params:{id:e}}).then((function(e){return e.data}))};!function(e){e.SET_LOADING_CARDS="CARDS/CARDS/SET_LOADING",e.SET_ERROR_CARDS="CARDS/CARDS/SET_ERROR_PACKS",e.SET_CARDS="CARDS/CARDS/SET_PACKS",e.ADD_CARD="CARDS/CARDS/ADD_CARD",e.UPDATE_CARD="CARDS/CARDS/UPDATE_CARD",e.DELETE_CARD="CARDS/CARDS/DELETE_CARD"}(r||(r={}));var se,ie={cards:[],loading:!1,error:"",cardsTotalCount:0,maxGrade:0,minGrade:0,page:0,pageCount:4,packUserId:""},oe=function(e){return{type:r.SET_LOADING_CARDS,payload:{loading:e}}},ue=function(e){return{type:r.SET_CARDS,data:e}},le=function(e){return{type:r.SET_ERROR_CARDS,payload:{error:e}}},de=function(e,t,n){return function(){var r=Object(H.a)(W.a.mark((function r(a){var c,s;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(oe(!0)),r.next=4,te({cardsPack_id:e,pageCount:t,page:n});case 4:c=r.sent,a(ue(c)),a(oe(!1)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(0),s=r.t0.response?r.t0.response.data.error:r.t0.message+", more details in the console",a(le(s));case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}()};!function(e){e.SET_LOADING="CARDS/LOGIN/SET_LOADING",e.SET_USER="CARDS/LOGIN/SET_USER",e.SET_ERROR="CARDS/LOGIN/SET_ERROR",e.SET_SUCCESS="CARDS/LOGIN/SET_SUCCESS",e.CHANGE_USER="CARDS/LOGIN/CHANGE_USER",e.IS_INITIAL="CARDS/LOGIN/IS_INITIAL"}(se||(se={}));var je,pe={_id:"",email:"",name:"",publicCardPacksCount:0,created:new Date,updated:new Date,isAdmin:!1,verified:!1,rememberMe:!1},be={user:pe,loading:!1,success:!1,error:"",isInitial:!1},he=function(e){return{type:se.SET_LOADING,payload:{loading:e}}},Oe=function(e){return{type:se.SET_SUCCESS,payload:{success:e}}},fe=function(e){return{type:se.SET_USER,user:e}},_e=function(e){return{type:se.SET_ERROR,payload:{error:e}}},ge=function(e,t){return{type:se.CHANGE_USER,name:e,avatar:t}},xe=function(){var e=Object(o.b)(),t=pn.RECOVERY_PASS,n=pn.REGISTRATION,r=pn.PROFILE,a=[{link:t,title:z(B(" Forgot password?"))},{link:n,title:z(B(" Registration"))}],c=V((function(e){return e.login.user._id})),s=V((function(e){return e.login.loading})),i=V((function(e){return e.login.success})),u=V((function(e){return e.login.error}));return Object(C.jsx)(K,{loginLinks:a,sendLogin:function(t,n,r){e(function(e,t,n){return function(){var r=Object(H.a)(W.a.mark((function r(a){var c,s;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(he(!0)),a(_e("")),r.next=5,J({email:e,password:t,rememberMe:n});case 5:c=r.sent,a(fe(c)),a(Oe(!0)),a(le("")),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),s=r.t0.response?r.t0.response.data.error:r.t0.message+", more details in the console",a(_e(s));case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,r))},loading:s,success:i,userId:c,setSuc:function(t){e(Oe(t))},error:u,closeMessage:function(t){e(_e(t))},redirectLink:r})},me=function(){return Object(C.jsxs)("section",{className:h.a.page,children:[Object(C.jsx)("h2",{children:"Login"}),Object(C.jsx)(xe,{})]})},ve=n(61),Ce=n.n(ve),ke=n(43),Se=n.n(ke),Ee=function(e){var t=e.loginLink,n=t.link,r=t.title;return Object(C.jsxs)("form",{className:Se.a.form,onSubmit:function(e){e.preventDefault(),console.log("submit")},children:[Object(C.jsx)(S,{type:"email",placeholder:"Email"}),Object(C.jsx)(S,{type:"password",placeholder:"Password"}),Object(C.jsx)(S,{type:"password",placeholder:"Repeat password"}),Object(C.jsx)(P,{type:"submit",children:"Sing Up"}),Object(C.jsx)(E.b,{to:n,className:Se.a.link,children:r})]})},Ne=function(){var e=pn.LOGIN,t={link:e,title:z(B(e))};return Object(C.jsx)(Ee,{loginLink:t})},Re=function(){return Object(C.jsxs)("section",{className:Ce.a.page,children:[Object(C.jsx)("h2",{children:"Registration"}),Object(C.jsx)(Ne,{})]})},Pe=n(62),Ae=n.n(Pe),Te=n(19),ye=n.n(Te),Ie=function(e){var t=e.loginLink,n=t.link,r=t.title,c=e.sendEmail,s=e.closeMessage,i=e.setSuccess,o=e.loading,u=e.success,l=e.error,d=e.redirectLink,j=Object(a.useState)(""),b=Object(O.a)(j,2),h=b[0],f=b[1];Object(a.useEffect)((function(){u&&(f(""),i(!1))}),[u,i]);return u?Object(C.jsx)(p.a,{to:d}):Object(C.jsxs)("form",{className:ye.a.form,onSubmit:function(e){e.preventDefault(),h.trim()&&c(h)},children:[Object(C.jsxs)("div",{className:ye.a.messageWrapper,children:[o&&Object(C.jsx)(D,{text:"Sending..."}),!l&&Object(C.jsx)(U,{clickHandler:function(){s("")},children:l})]}),Object(C.jsx)(S,{type:"email",placeholder:"Email",onChangeText:f,value:h,disabled:o}),Object(C.jsx)(P,{type:"submit",disabled:o,children:"Submit"}),Object(C.jsx)(E.b,{to:n,className:ye.a.link,children:r})]})};!function(e){e.SET_LOADING="CARDS/RECOVERY_PASS/SET_LOADING",e.SET_SUCCESS="CARDS/RECOVERY_PASS/SET_SUCCESS",e.SET_ERROR="CARDS/RECOVERY_PASS/SET_ERROR"}(je||(je={}));var we,Le=function(e){return{type:je.SET_SUCCESS,payload:{success:e}}},De=function(e){return{type:je.SET_ERROR,payload:{error:e}}},Ge=function(e){var t=e.email;return X.post("auth/forgot",{email:t,from:"Andrei Shved  <svensk.tut.by@gmail.com>",message:'<html xmlns="http://www.w3.org/1999/xhtml">\n  <head>\n    <title>HTML email template</title>\n    <meta name="viewport" content="width = 375, initial-scale = -1">\n  </head>\n\n  <body style="background-color: #ffffff; font-size: 16px;">\n    <center>\n      <table align="center" border="0" cellpadding="0" cellspacing="0" style="height: 100%; width: 600px; font-size: 18px;">\n          \x3c!-- BEGIN EMAIL --\x3e\n          <tr>\n            <td align="center" bgcolor="#ffffff" style="padding:30px">\n               <p style="text-align:left">Hello,<br><br> We received a request to reset the password for your account for this email address. To initiate the password reset process for your account, click the link below.\n              </p>\n              <p>\n                <a target="_blank" style="text-decoration:none; background-color: #17a2b8; border: #17a2b8 1px solid; color: #fff; padding:10px 10px; display:block;" href="https://svensktutby.github.io/cards/#/set-pass/$token$">\n                  <strong>Reset Password</strong></a>\n              </p>\n              <p style="text-align:left">This link can only be used once. If you need to reset your password again, please visit <a href="https://svensktutby.github.io/cards/">our site</a> and request another reset.<br><br>If you did not make this request, you can simply ignore this email.</p>\n              <p style="text-align:left">\n              Sincerely,<br>The Card website Team\n              </p>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </center>\n  </body>\n</html>'}).then((function(e){return e.data}))},Me=function(e){return{type:je.SET_LOADING,payload:{loading:e}}},Fe=Le,Ue=De,Ke=function(){var e=pn.LOGIN,t=pn.SET_PASS,n={link:e,title:z(B(e))},r=Object(o.b)(),a=V((function(e){return e.recoveryPass.loading})),c=V((function(e){return e.recoveryPass.success})),s=V((function(e){return e.recoveryPass.error}));return Object(C.jsx)(Ie,{loginLink:n,sendEmail:function(e){r(function(e){return function(){var t=Object(H.a)(W.a.mark((function t(n){var r,a,c,s;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Me(!0)),t.prev=1,t.next=4,Ge({email:e});case 4:r=t.sent,a=r.info,(c=r.success)&&(n(Fe(c)),console.log(a)),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(1),s=t.t0.response?t.t0.response.data.error:t.t0.message+", more details in the console",console.log("Error ",s),n(Ue(s));case 15:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()}(e))},setSuccess:function(e){r(Le(e))},closeMessage:function(e){r(De(e))},loading:a,success:c,error:s,redirectLink:t})},ze=function(){return Object(C.jsxs)("section",{className:Ae.a.page,children:[Object(C.jsx)("h2",{children:"Recovery Password"}),Object(C.jsx)(Ke,{})]})},Be=n(63),Ve=n.n(Be),qe=function(){return Object(C.jsx)("section",{className:Ve.a.page,children:Object(C.jsx)("h2",{children:"Set New Password"})})},We=n(21),He=n.n(We),Ze=function(){return Object(C.jsxs)("div",{className:He.a.page,children:[Object(C.jsxs)("div",{className:He.a.main,children:[Object(C.jsx)("h1",{className:He.a.title,children:"404 - Page not\xa0found"}),Object(C.jsxs)("p",{className:He.a.text,children:["\u2014",Object(C.jsx)("span",{children:"Uh oh."})," ",Object(C.jsx)("span",{children:"\xaf\\_(\u30c4)_/\xaf"}),"\u2014"]})]}),Object(C.jsx)("footer",{className:He.a.footer,children:Object(C.jsxs)("p",{className:He.a.footerText,children:["Take me back to:\xa0",Object(C.jsx)(E.b,{className:He.a.link,to:"/",children:"home page"})]})})]})},Ye=n(64),Xe=n.n(Ye),Je=function(e){var t=e.loading,n=e.sendLogOut,r=e.error,c=e.closeMessage,s=(e.redirectLink,e.userId,e.user),i=e.changeAuth,o=Object(a.useState)(!1),u=Object(O.a)(o,2),l=u[0],d=u[1],j=Object(a.useState)(!1),p=Object(O.a)(j,2),b=p[0],h=p[1],f=Object(a.useState)(s.name),_=Object(O.a)(f,2),g=_[0],x=_[1],m=Object(a.useState)(s.avatar),v=Object(O.a)(m,2),k=v[0],E=v[1],N=function(e){return function(){"name"===e?d(!0):h(!0)}},R=function(){return function(){d(!1),h(!1),i(g,void 0!==k?k:"")}};return Object(C.jsxs)("form",{className:ye.a.form,onSubmit:function(e){e.preventDefault(),n()},children:[Object(C.jsxs)("div",{className:ye.a.messageWrapper,children:[Object(C.jsx)("img",{src:s.avatar,alt:""}),Object(C.jsxs)("div",{children:[b?Object(C.jsx)("div",{children:Object(C.jsx)(S,{autoFocus:!0,onChange:function(e){E(e.currentTarget.value)},onBlur:R(),value:k})}):Object(C.jsxs)("div",{children:["avatar: ",Object(C.jsx)("span",{className:ye.a.spanAvatar,onDoubleClick:N("avatar"),children:s.avatar})]}),l?Object(C.jsx)("div",{children:Object(C.jsx)(S,{autoFocus:!0,onChange:function(e){x(e.currentTarget.value)},onBlur:R(),value:g})}):Object(C.jsxs)("div",{children:["name: ",Object(C.jsx)("span",{onDoubleClick:N("name"),children:s.name||""})]})]}),t&&Object(C.jsx)(D,{text:"Sending..."}),r&&Object(C.jsx)(U,{clickHandler:function(){c("")},children:r})]}),Object(C.jsx)(P,{type:"submit",disabled:t,children:"LogOut"})]})},Qe=function(){var e=Object(o.b)(),t=pn.LOGIN,n=V((function(e){return e.login.loading})),r=V((function(e){return e.login.user._id})),a=V((function(e){return e.login.user})),c=V((function(e){return e.login.error}));return Object(C.jsx)(Je,{loading:n,sendLogOut:function(){e(function(){var e=Object(H.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(he(!0)),e.next=4,Q();case 4:t(he(!1)),t(fe(pe)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(_e(n));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())},changeAuth:function(t,n){e(function(e,t){return function(){var n=Object(H.a)(W.a.mark((function n(r){var a,c;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(he(!0)),n.next=4,ee({name:e,avatar:t});case 4:a=n.sent,r(he(!1)),r(ge(a.name,a.avatar?a.avatar:"")),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),c=n.t0.response?n.t0.response.data.error:n.t0.message+", more details in the console",r(_e(c));case 13:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))},error:c,closeMessage:function(t){e(_e(t))},redirectLink:t,userId:r,user:a})},$e=function(){return Object(C.jsxs)("section",{className:Xe.a.page,children:[Object(C.jsx)("h2",{children:"Profile"}),Object(C.jsx)(Qe,{})]})},et=n(65),tt=n.n(et),nt=n(20),rt=n.n(nt),at=function(e,t,n){return X.get("cards/pack",{params:{user_id:e,pageCount:t,page:n}}).then((function(e){return e.data}))},ct=function(e,t){return X.post("cards/pack",{cardsPack:{name:e,private:t}}).then((function(e){return e.data}))},st=function(e,t){return X.put("cards/pack",{cardsPack:{name:e,_id:t}}).then((function(e){return e.data}))},it=function(e){return X.delete("cards/pack",{params:{id:e}}).then((function(e){return e.data}))};!function(e){e.SET_LOADING="CARDS/PACKS/SET_LOADING",e.SET_ERROR_PACKS="CARDS/PACKS/SET_ERROR_PACKS",e.SET_PACKS="CARDS/PACKS/SET_PACKS",e.ADD_PACK="CARDS/PACKS/ADD_PACK",e.UPDATE_PACKS="CARDS/PACKS/UPDATE_PACKS",e.DELETE_PACK="CARDS/PACKS/DELETE_PACK"}(we||(we={}));var ot,ut={cardPacks:[],loading:!1,error:"",cardPacksTotalCount:0,maxCardsCount:0,minCardsCount:0,page:1,pageCount:100},lt=function(e){return{type:we.SET_LOADING,payload:{loading:e}}},dt=function(e){return{type:we.SET_ERROR_PACKS,payload:{error:e}}},jt=function(e,t,n){return function(){var r=Object(H.a)(W.a.mark((function r(a){var c,s;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(lt(!0)),r.prev=1,r.next=4,at(e,t,n);case 4:c=r.sent,a((i=c,{type:we.SET_PACKS,payload:i})),a(lt(!1)),r.next=13;break;case 9:r.prev=9,r.t0=r.catch(1),s=r.t0.response?r.t0.response.data.error:r.t0.message+", more details in the console",a(dt(s));case 13:case"end":return r.stop()}var i}),r,null,[[1,9]])})));return function(e){return r.apply(this,arguments)}}()},pt=n(79),bt=n(27),ht=n.n(bt),Ot=function(e){var t=e.totalPages,n=e.page,r=e.handleChangePage,a=e.pageCount,c=e.setPageCount,s=null;switch(!0){case t<7:s=Object(pt.a)(new Array(t)).map((function(e,t){return t+1}));break;case n<4:s=[1,2,3,4,5,"...",t];break;case n>t-4:s=[1,"...",t-4,t-3,t-2,t-1,t];break;default:s=[1,"...",n-1,n,n+1,"...",t]}function i(e){e>0&&e<=t&&r(e)}return Object(C.jsxs)("div",{className:ht.a.paginatorBlock,children:[Object(C.jsxs)("div",{className:ht.a.paginator,children:[Object(C.jsx)("button",{disabled:n<=1,onClick:function(){return i(n-1)},children:"<"}),s.map((function(e,t){return Object(C.jsx)("button",{className:n===e?ht.a.active:"",onClick:function(){return i(+e)},children:e},t)})),Object(C.jsx)("button",{disabled:n>=t,onClick:function(){return i(n+1)},children:">"})]}),Object(C.jsxs)("div",{className:ht.a.paginatorItems,children:[Object(C.jsx)("span",{children:"Items per Page: "}),Object(C.jsx)("input",{className:ht.a.inputPage,type:"number",onChange:function(e){if(!(+e.currentTarget.value<0)&&0!==+e.currentTarget.value&&+e.currentTarget.value<=25){var t=parseInt(e.currentTarget.value.replace(/\+|\-/gi,""),10);i(Math.floor(a*n/t)),c(t)}},value:a})]})]})},ft=function(e){var t=e.deactivateEditMode,n=e.children;return Object(C.jsx)("div",{onClick:t,className:rt.a.packsModal,children:Object(C.jsx)("form",{onClick:function(e){return e.stopPropagation()},className:rt.a.form,children:n})})},_t=n(66),gt=n.n(_t),xt=function(e){var t=e.loading,n=e.handleSearch,r=e.children;return Object(C.jsxs)("div",{children:[Object(C.jsx)(S,{className:gt.a.search,type:"text",name:"search",onChange:n,disabled:t,placeholder:"Search pack"}),r]})},mt=function(e){var t=e.deletedCardsPack,n=e.updatedCardsPack,r=e.addCardsPack,s=e.cardPacks,i=e.loading,u=e.error,l=e.closeMessage,d=e.userId,j=e.cardPacksTotalCount,p=e.page,b=e.setPage,h=e.pageCount,f=e.setPageCount,_=pn.CARDS,g=pn.TRAIN,x=Object(a.useState)(!1),m=Object(O.a)(x,2),v=m[0],k=m[1],N=Object(a.useState)(!1),R=Object(O.a)(N,2),A=R[0],T=R[1],I=Object(a.useState)(!1),w=Object(O.a)(I,2),L=w[0],G=w[1],M=Object(a.useState)(""),F=Object(O.a)(M,2),K=F[0],z=F[1],B=Object(a.useState)(""),V=Object(O.a)(B,2),q=V[0],W=V[1],H=Object(a.useState)(!1),Z=Object(O.a)(H,2),Y=Z[0],X=Z[1],J=Object(a.useState)(!1),Q=Object(O.a)(J,2),$=Q[0],ee=Q[1],te=$?d:"",ne=Object(a.useState)(""),re=Object(O.a)(ne,2),ae=re[0],ce=re[1],se=Object(a.useState)(),ie=Object(O.a)(se,2),oe=ie[0],ue=ie[1],le=Object(a.useState)(""),de=Object(O.a)(le,2),je=de[0],pe=de[1],be=Object(o.b)();Object(a.useEffect)((function(){oe&&clearTimeout(oe),ue(setTimeout((function(){return be(jt(te,j?j+5:2e6,p))}),400))}),[be]);var he=function(){k(!1),G(!1),T(!1)},Oe=$?s.filter((function(e){return e.user_id===d})).filter((function(e){return e.name.includes(je)})):s.filter((function(e){return e.name.includes(je)})),fe=Math.ceil(Oe.length/h);return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:rt.a.messageWrapper,children:[i&&Object(C.jsx)(D,{text:"Sending..."}),u&&Object(C.jsx)(U,{clickHandler:function(){l("")},children:u})]}),v&&Object(C.jsxs)(ft,{deactivateEditMode:he,children:[Object(C.jsx)(S,{placeholder:"Name pack",onChange:function(e){z(e.currentTarget.value)},value:K}),Object(C.jsx)(y,{type:"checkbox",checked:Y,onChangeChecked:X,children:"Private"}),Object(C.jsx)(P,{onClick:function(){return function(e,t){e.trim()&&(r(e,t),k(!1),z(""),X(!1))}(K,Y)},children:"Submit"})]}),A&&Object(C.jsxs)(ft,{deactivateEditMode:he,children:[Object(C.jsx)(P,{onClick:function(){t(ae),T(!1)},children:"Yes"}),Object(C.jsx)(P,{onClick:he,children:"No"})]}),L&&Object(C.jsxs)(ft,{deactivateEditMode:he,children:[Object(C.jsx)(S,{placeholder:"Name pack",onChange:function(e){W(e.currentTarget.value)},value:q}),Object(C.jsx)(P,{disabled:i,onClick:function(){return function(e,t){e.trim()&&(n(e,t),G(!1),W(""))}(q,ae)},children:"Submit"})]}),Object(C.jsx)("div",{children:Object(C.jsx)(y,{type:"checkbox",checked:$,onChangeChecked:function(){ee(!$),b(1)},disabled:i,children:"My packs"})}),Object(C.jsxs)(xt,{loading:i,handleSearch:function(e){pe(e.currentTarget.value)},children:[Object(C.jsxs)("div",{className:rt.a.hGridContainer,children:[Object(C.jsx)("div",{children:"Name"}),Object(C.jsx)("div",{children:"CardsCount"}),Object(C.jsx)("div",{children:"Updated"}),Object(C.jsx)("div",{children:"Url"}),Object(C.jsx)("div",{children:Object(C.jsx)(P,{disabled:i,onClick:function(){k(!0)},children:"add"})}),0!==Oe.length||i?Oe.slice((p-1)*h,p*h).map((function(e){var t=new Date(e.updated).toUTCString().substring(0,22);return Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("div",{children:e.name}),Object(C.jsx)("div",{children:e.cardsCount}),Object(C.jsx)("div",{children:t}),Object(C.jsx)("div",{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(P,{disabled:i||d!=e.user_id,onClick:function(){return t=e._id,ce(t),void T(!0);var t},children:"del"}),Object(C.jsx)(P,{disabled:i||d!=e.user_id,onClick:function(){return t=e._id,n=e.name,W(n),ce(t),void G(!0);var t,n},children:"update"}),Object(C.jsx)(E.b,{to:i?"#":_+"/"+e._id,className:rt.a.link,children:"cards"}),e.cardsCount>0?Object(C.jsx)(E.b,{to:i?"#":g+"/"+e._id,className:rt.a.link,children:"train"}):"train"," "]})]},e._id)})):"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442\u0443"]}),Object(C.jsx)(Ot,{totalPages:fe,handleChangePage:function(e){b(e)},page:p,setPageCount:f,pageCount:h})]})]})},vt=function(){var e=Object(o.b)(),t=pn.LOGIN,n=V((function(e){return e.packs.error})),r=V((function(e){return e.packs.cardPacks})),c=V((function(e){return e.packs.loading})),s=V((function(e){return e.packs.cardPacksTotalCount})),i=V((function(e){return e.login.user._id})),u=Object(a.useState)(1),l=Object(O.a)(u,2),d=l[0],j=l[1],b=Object(a.useState)(4),h=Object(O.a)(b,2),f=h[0],_=h[1];if(""===i)return Object(C.jsx)(p.a,{to:t});return Object(C.jsx)(mt,{userId:i,deletedCardsPack:function(t){e(function(e,t,n,r){return function(){var a=Object(H.a)(W.a.mark((function a(c){var s;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(lt(!0)),a.next=4,it(e);case 4:return a.sent,a.next=7,c(jt(t,n,r));case 7:c(lt(!1)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),s=a.t0.response?a.t0.response.data.error:a.t0.message+", more details in the console",c(dt(s));case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,"",s,1))},updatedCardsPack:function(t,n){e(function(e,t,n,r,a){return function(){var c=Object(H.a)(W.a.mark((function c(s){var i;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s(lt(!0)),c.next=4,st(e,t);case 4:return c.sent,c.next=7,s(jt(n,r,a));case 7:s(lt(!1)),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),i=c.t0.response?c.t0.response.data.error:c.t0.message+", more details in the console",s(dt(i));case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(t,n,"",s,1))},addCardsPack:function(t,n){e(function(e,t,n,r,a){return function(){var c=Object(H.a)(W.a.mark((function c(s){var i;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s(lt(!0)),c.next=4,ct(e,t);case 4:return c.sent,c.next=7,s(jt(n,r,a));case 7:s(lt(!1)),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),i=c.t0.response?c.t0.response.data.error:c.t0.message+", more details in the console",s(dt(i));case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(t,n,"",s,1))},cardPacks:r,loading:c,closeMessage:function(t){e(dt(t))},error:n,cardPacksTotalCount:s,page:d,setPage:j,pageCount:f,setPageCount:_})},Ct=function(){return Object(C.jsxs)("section",{className:tt.a.page,children:[Object(C.jsx)("h2",{children:"Card packs"}),Object(C.jsx)(vt,{})]})},kt=n(67),St=n.n(kt),Et=n(30),Nt=n.n(Et),Rt=["\u043d\u0435 \u0437\u043d\u0430\u043b","\u0437\u0430\u0431\u044b\u043b","\u0434\u043e\u043b\u0433\u043e \u0434\u0443\u043c\u0430\u043b","\u043f\u0435\u0440\u0435\u043f\u0443\u0442\u0430\u043b","\u0437\u043d\u0430\u043b"],Pt=function(e){var t=e.reduce((function(e,t){return e+(6-t.grade)*(6-t.grade)}),0),n=Math.random()*t,r=e.reduce((function(e,t,r){var a=e.sum+(6-t.grade)*(6-t.grade);return{sum:a,id:a<n?r:e.id}}),{sum:0,id:-1});return console.log("test: ",t,n,r),e[r.id+1]},At=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!0),s=Object(O.a)(c,2),i=s[0],u=s[1],l=Object(a.useState)(-1),d=Object(O.a)(l,2),j=d[0],b=d[1],h=V((function(e){return e.cards})).cards,f=V((function(e){return e.cards.error})),_=Object(a.useState)({_id:"fake",cardsPack_id:"",user_id:"",answer:"answer fake",question:"question fake",grade:0,shots:0,type:"",rating:0,__v:0,created:"",updated:""}),g=Object(O.a)(_,2),x=g[0],m=g[1],v=V((function(e){return e.cards.loading})),k=Object(p.g)().cardsPack_id,S=Object(o.b)();Object(a.useEffect)((function(){return console.log("LearnContainer useEffect"),i&&(S(de(k)),u(!1)),console.log("cards",h),h.length>0&&m(Pt(h)),function(){console.log("LearnContainer useEffect off")}}),[S,k,h,i]);return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{className:Nt.a.form,children:[v&&Object(C.jsx)(D,{text:"Sending..."}),f&&Object(C.jsx)(U,{clickHandler:function(){S(le(""))},children:f})]}),Object(C.jsxs)("div",{className:Nt.a.trainBlock,children:[Object(C.jsx)("div",{children:x.question}),Object(C.jsx)("div",{children:Object(C.jsx)(P,{onClick:function(){return r(!0)},children:"check"})}),n&&Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{children:x.answer}),Object(C.jsx)("div",{className:Nt.a.grade,children:Rt.map((function(e,t){return Object(C.jsx)(P,{className:j===t?Nt.a.active:"",onClick:function(){!function(e){console.log(e),b(e)}(t)},children:e},"grade-"+t)}))}),Object(C.jsx)("div",{children:Object(C.jsx)(P,{onClick:function(){r(!1),h.length>0&&(S(function(e,t,n){return function(){var r=Object(H.a)(W.a.mark((function r(a){var c;return W.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a(oe(!0)),r.next=5,ae({grade:n,card_id:t});case 5:return r.sent,r.next=8,a(de(e));case 8:a(oe(!1)),r.next=15;break;case 11:r.prev=11,r.t0=r.catch(0),c=r.t0.response?r.t0.response.data.error:r.t0.message+", more details in the console",a(le(c));case 15:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}(x.cardsPack_id,x._id,j+1)),m(Pt(h)),b(-1))},children:"next"})})]})]})]})},Tt=function(){return Object(C.jsxs)("section",{className:St.a.page,children:[Object(C.jsx)("h2",{children:"Train"}),Object(C.jsx)(At,{})]})},yt=n(68),It=n.n(yt),wt=n(69),Lt=n.n(wt),Dt=n(46),Gt=(n(109),Object(Dt.b)(Dt.a)),Mt=function(e){var t=e.onChangeRange,n=e.value,r=e.min,a=e.max,c=e.step,s=e.draggableTrack,i=void 0===s||s,o=Object(x.a)(e,["onChangeRange","value","min","max","step","draggableTrack"]);return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Gt,Object(g.a)({onChange:function(e){var n=Object(O.a)(e,2),r=n[0],a=n[1];t&&t([r,a])},value:n,min:r,max:a,step:c,draggableTrack:i},o))})},Ft=n(73),Ut=n.n(Ft),Kt=function(e){var t=e.error,n=e.loading,r=e.action,a=Object(o.b)();return Object(C.jsxs)("div",{className:Ut.a.messageWrapper,children:[n&&Object(C.jsx)(D,{text:"Sending..."}),!t&&Object(C.jsx)(U,{clickHandler:function(){a(r)},children:t})]})},zt=function(e){var t,n=e.loading,r=e.error,s=e.cards,i=e.addCard,o=e.updatedCard,u=e.cardsPack_id,l=e.deleteCard,d=e.page,j=e.setPage,p=e.pageCount,b=e.setPageCount,h=e.userId,f=Object(a.useState)(!1),_=Object(O.a)(f,2),g=_[0],x=_[1],m=Object(a.useState)(!1),v=Object(O.a)(m,2),k=v[0],E=v[1],N=Object(a.useState)(""),R=Object(O.a)(N,2),A=R[0],T=R[1],y=Object(a.useState)(""),I=Object(O.a)(y,2),w=I[0],L=I[1],D=Object(a.useState)(""),G=Object(O.a)(D,2),M=G[0],F=G[1],U=Object(a.useState)(""),K=Object(O.a)(U,2),z=K[0],B=K[1],V=Object(a.useState)(0),q=Object(O.a)(V,2),W=q[0],H=q[1],Z=Object(a.useState)(5),Y=Object(O.a)(Z,2),X=Y[0],J=Y[1],Q=function(e){T(e.currentTarget.value)},$=function(e){L(e.currentTarget.value)},ee=function(){x(!1),E(!1),F(""),T(""),L("")},te=s.filter((function(e){return e.grade>=W&&e.grade<=X})),ne=Math.ceil(te.length/p);return Object(C.jsxs)("div",{children:[Object(C.jsx)(Kt,{loading:n,error:r,action:le("")}),Object(C.jsx)("div",{children:Object(C.jsx)(Mt,{onChangeRange:function(e){H(e[0]),J(e[1])},value:[W,X],min:0,max:5,step:.1})}),g&&Object(C.jsxs)(ft,{deactivateEditMode:ee,children:[Object(C.jsx)(S,{placeholder:"Question",onChange:Q,value:A}),Object(C.jsx)(S,{placeholder:"Answer",onChange:$,value:w}),Object(C.jsx)(P,{disabled:n,onClick:function(){A.trim()&&(i(u,A,w),x(!1),T(""),L(""))},children:"Submit"})]}),k&&Object(C.jsxs)(ft,{deactivateEditMode:ee,children:[Object(C.jsx)(P,{onClick:function(){l(z),E(!1)},children:"Yes"}),Object(C.jsx)(P,{onClick:ee,children:"No"})]}),M&&Object(C.jsxs)(ft,{deactivateEditMode:ee,children:[Object(C.jsx)(S,{placeholder:"Question card",onChange:Q,value:A}),Object(C.jsx)(S,{placeholder:"Answer card",onChange:$,value:w}),Object(C.jsx)(P,{disabled:n,onClick:function(){A.trim()&&(o(M,A,w),F(""),T(""),L(""))},children:"Submit"})]}),Object(C.jsxs)("div",{className:Lt.a.hGridContainer,children:[Object(C.jsx)("div",{children:"Question"}),Object(C.jsx)("div",{children:"Answer"}),Object(C.jsx)("div",{children:"Grade"}),Object(C.jsx)("div",{children:"Updated"}),Object(C.jsx)("div",{children:"Url"}),Object(C.jsx)("div",{children:Object(C.jsx)(P,{disabled:n||h!=(null===(t=s[0])||void 0===t?void 0:t.user_id),onClick:function(){x(!0)},children:"add"})}),0!==te.length||n?te.slice((d-1)*p,d*p).map((function(e){var t=new Date(e.updated).toUTCString().substring(0,22);return Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("div",{children:e.question}),Object(C.jsx)("div",{children:e.answer}),Object(C.jsx)("div",{children:e.grade}),Object(C.jsx)("div",{children:t}),Object(C.jsx)("div",{}),Object(C.jsxs)("div",{children:[Object(C.jsx)(P,{disabled:n||h!=e.user_id,onClick:function(){return t=e._id,B(t),void E(!0);var t},children:"del"}),Object(C.jsx)(P,{disabled:n||h!=e.user_id,onClick:function(){return function(e,t,n){F(e),T(t),L(n)}(e._id,e.question,e.answer)},children:"update"})]})]},e._id)})):"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442\u0443"]}),Object(C.jsx)(Ot,{totalPages:ne,handleChangePage:function(e){j(e)},page:d,setPageCount:b,pageCount:p})]})},Bt=function(e){return e.cards.error},Vt=function(e){return e.cards.cards},qt=function(e){return e.cards.loading},Wt=function(e){return e.cards.cardsTotalCount},Ht=function(e){return e.login.user._id},Zt=function(){var e=V(Bt),t=V(Vt),n=V(Wt),r=V(qt),c=V(Ht),s=t.length<4&&t.length>0?t.length:4,i=Object(a.useState)(s),u=Object(O.a)(i,2),l=u[0],d=u[1],j=Object(a.useState)(1),b=Object(O.a)(j,2),h=b[0],f=b[1],_=Object(p.g)().cardsPack_id,g=(pn.LOGIN,Object(o.b)());Object(a.useEffect)((function(){t.length<4&&t.length>0&&d(t.length)}),[t]),Object(a.useEffect)((function(){_&&g(de(_,n>0?n+5:2e6,h))}),[g]);return Object(C.jsx)(zt,{loading:r,cards:t,error:e,cardsPack_id:_,addCard:function(e,t,r){g(function(e,t,n,r,a){return function(){var c=Object(H.a)(W.a.mark((function c(s){var i;return W.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,s(oe(!0)),c.next=4,ne({cardsPack_id:e,question:t,answer:n});case 4:return c.sent,c.next=7,s(de(e,r,a));case 7:s(oe(!1)),c.next=14;break;case 10:c.prev=10,c.t0=c.catch(0),i=c.t0.response?c.t0.response.data.error:c.t0.message+", more details in the console",s(le(i));case 14:case"end":return c.stop()}}),c,null,[[0,10]])})));return function(e){return c.apply(this,arguments)}}()}(e,t,r,n+1,h))},updatedCard:function(e,t,n){g(function(e,t,n,r,a,c){return function(){var s=Object(H.a)(W.a.mark((function s(i){var o;return W.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,i(oe(!0)),s.next=4,re({_id:e,question:t,answer:n});case 4:return s.sent,s.next=7,i(de(r,a,c));case 7:i(oe(!1)),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(0),o=s.t0.response?s.t0.response.data.error:s.t0.message+", more details in the console",i(le(o));case 14:case"end":return s.stop()}}),s,null,[[0,10]])})));return function(e){return s.apply(this,arguments)}}()}(e,t,n,_,l,h))},deleteCard:function(e){g(function(e,t,n,r){return function(){var a=Object(H.a)(W.a.mark((function a(c){var s;return W.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c(oe(!0)),a.next=4,ce(e);case 4:return a.sent,a.next=7,c(de(t,n,r));case 7:c(oe(!1)),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(0),s=a.t0.response?a.t0.response.data.error:a.t0.message+", more details in the console",c(le(s));case 14:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(e,_,n,h))},page:h,setPage:f,pageCount:l,setPageCount:d,userId:c})},Yt=function(){return Object(C.jsxs)("section",{className:It.a.page,children:[Object(C.jsx)("h2",{children:"Cards"}),Object(C.jsx)(Zt,{})]})},Xt=n(74),Jt=n.n(Xt),Qt=n(75),$t=n.n(Qt),en=function(e){var t=e.examples;return Object(C.jsxs)("table",{className:$t.a.table,children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"Title"}),Object(C.jsx)("th",{children:"Example"})]})}),Object(C.jsx)("tbody",{children:t.map((function(e){var t=Object(O.a)(e,2),n=t[0],r=Object(O.a)(t[1],2),a=r[0],c=r[1];return Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{children:n}),Object(C.jsx)("td",{children:Object(C.jsx)(a,Object(g.a)({},c))})]},I())}))})]})},tn=n(76),nn=n.n(tn),rn=n(34),an=n.n(rn),cn=n(77),sn=n.n(cn),on={preloader:[D,{text:"Loading"}],errorMessage:[U,{children:"Error message",clickHandler:function(){}}],link:[function(e){var t=e.className,n=e.children,r=Object(x.a)(e,["className","children"]),a="".concat(nn.a.link," ").concat(t||"");return Object(C.jsx)("a",Object(g.a)(Object(g.a)({className:a},r),{},{children:n}))},{href:"/",children:"Hover me"}],button:[P,{children:"Click me"}],buttonError:[P,{children:"Error",error:!0}],inputText:[S,{placeholder:"Write here"}],inputEmail:[S,{type:"email",placeholder:"Email"}],inputPassword:[S,{type:"password",placeholder:"Password"}],inputTextError:[S,{error:"an error",placeholder:"Write here"}],inputCheckbox:[y,{children:"Check me"}],inputRadio:[function(e){e.type;var t=e.name,n=e.options,r=e.value,a=e.className,c=e.onChange,s=e.onChangeOption,i=function(e){c&&c(e),s&&s(e.currentTarget.value)},o="".concat(an.a.radio," ").concat(a||""),u=n?n.map((function(e,n){return Object(C.jsxs)("label",{className:an.a.radioWrapper,children:[Object(C.jsx)("input",{type:"radio",name:t,value:e,checked:r===e,onChange:i,className:o}),Object(C.jsx)("span",{className:an.a.label,children:e})]},t+"-"+n)})):[];return Object(C.jsx)(C.Fragment,{children:u})},{options:["React","Redux","Typescript"],name:"skills",value:"React"}],select:[function(e){var t=e.options,n=e.className,r=e.onChange,a=e.onChangeOption,c=Object(x.a)(e,["options","className","onChange","onChangeOption"]),s=t?t.map((function(e,t){return Object(C.jsx)("option",{value:e,children:e},e+"-"+t)})):[],i="".concat(sn.a.select," ").concat(n||"");return Object(C.jsx)("select",Object(g.a)(Object(g.a)({onChange:function(e){r&&r(e),a&&a(e.currentTarget.value)},className:i},c),{},{children:s}))},{options:["React","Redux","Typescript"],value:"Redux"}]},un=Object.entries(on).map((function(e){var t,n=Object(O.a)(e,2),r=n[0],a=n[1];return[(t=r,"".concat(t.replace(/([A-Z])/g,(function(e,t){return 0===t?e.toUpperCase():" ".concat(e.toLowerCase())})))),a]})),ln=function(){return Object(C.jsx)(en,{examples:un})},dn=function(){return Object(C.jsxs)("section",{className:Jt.a.page,children:[Object(C.jsx)("h2",{children:"Common components:"}),Object(C.jsx)(ln,{})]})},jn=function(){return V((function(e){return e.login.user._id}))?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(p.b,{path:pn.PROFILE,render:function(){return Object(C.jsx)($e,{})}}),Object(C.jsx)(p.b,{path:pn.PACKS,render:function(){return Object(C.jsx)(Ct,{})}}),Object(C.jsx)(p.b,{path:pn.TRAIN+"/:cardsPack_id",render:function(){return Object(C.jsx)(Tt,{})}}),Object(C.jsx)(p.b,{path:pn.CARDS+"/:cardsPack_id",render:function(){return Object(C.jsx)(Yt,{})}}),Object(C.jsx)(p.b,{path:pn.TEST,render:function(){return Object(C.jsx)(dn,{})}})]}):Object(C.jsx)(p.a,{to:pn.LOGIN})},pn={LOGIN:"/login",REGISTRATION:"/registration",RECOVERY_PASS:"/recovery-pass",SET_PASS:"/set-pass",PROFILE:"/profile",PACKS:"/packs",TRAIN:"/train",CARDS:"/cards",TEST:"/test",ERROR_404:"/error404"},bn=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(p.d,{children:[Object(C.jsx)(p.b,{path:"/",exact:!0,render:function(){return Object(C.jsx)(p.a,{to:pn.PROFILE})}}),Object(C.jsx)(p.b,{path:pn.LOGIN,render:function(){return Object(C.jsx)(me,{})}}),Object(C.jsx)(p.b,{path:pn.REGISTRATION,render:function(){return Object(C.jsx)(Re,{})}}),Object(C.jsx)(p.b,{path:pn.RECOVERY_PASS,render:function(){return Object(C.jsx)(ze,{})}}),Object(C.jsx)(p.b,{path:pn.SET_PASS,render:function(){return Object(C.jsx)(qe,{})}}),Object(C.jsx)(p.b,{path:pn.ERROR_404,render:function(){return Object(C.jsx)(Ze,{})}}),Object(C.jsx)(jn,{}),Object(C.jsx)(p.a,{from:"*",to:pn.ERROR_404})]})})},hn=n(18),On=n.n(hn),fn=function(e){var t=e.navLinks,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],s=r[1],i=function(){s(!c)};return Object(C.jsxs)("nav",{className:On.a.nav,children:[Object(C.jsx)("input",{checked:c,className:On.a.navControl,type:"checkbox",id:"menu-cb",onChange:i}),Object(C.jsx)("div",{className:On.a.navContent,children:Object(C.jsx)("ul",{className:On.a.navItems,onClick:i,children:t.map((function(e){var t=e.link,n=e.title;return Object(C.jsx)("li",{className:On.a.navItem,children:Object(C.jsx)(E.c,{className:On.a.navItemLink,exact:!0,to:t,activeClassName:On.a.navItemLinkActive,children:n})},I())}))})}),Object(C.jsx)("label",{className:On.a.navBtn,htmlFor:"menu-cb"})]})},_n=function(){var e=Object.values(pn).filter((function(e){return e!==pn.CARDS&&e!==pn.TRAIN})).map((function(e){return{link:e,title:z(B(e))}})),t=e.slice(0,e.length-1);return Object(C.jsx)(fn,{navLinks:t})},gn=function(){return Object(C.jsx)("header",{className:j.a.header,children:Object(C.jsx)("div",{className:j.a.container,children:Object(C.jsx)(_n,{})})})},xn=n(45),mn=n.n(xn),vn=function(){return Object(C.jsx)("main",{className:mn.a.main,children:Object(C.jsx)("div",{className:mn.a.container,children:Object(C.jsx)(bn,{})})})},Cn=function(){var e=V((function(e){return e.login.isInitial})),t=Object(o.b)();return Object(a.useEffect)((function(){!e&&t(function(){var e=Object(H.a)(W.a.mark((function e(t){var n,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(he(!0)),t(_e("")),e.next=5,$();case 5:n=e.sent,t((a=!0,{type:se.IS_INITIAL,payload:{isInitial:a}})),t(fe(n)),t(he(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),r=e.t0.response?e.t0.response.data.error:e.t0.message+", more details in the console",t(_e(r));case 15:case"end":return e.stop()}var a}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(C.jsxs)("div",{className:l.a.app,children:[Object(C.jsx)(gn,{}),Object(C.jsx)(vn,{})]})},kn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,111)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},Sn=n(22),En=n(78);!function(e){e.SET_LOADING="CARDS/LOGIN/SET_LOADING"}(ot||(ot={}));var Nn,Rn={},Pn={loading:!1,success:!1,error:""};!function(e){e.SET_LOADING="CARDS/LOGIN/SET_LOADING"}(Nn||(Nn={}));var An,Tn={};!function(e){e.SET_LOADING="CARDS/LOGIN/SET_LOADING"}(An||(An={}));var yn={},In=Object(Sn.c)({login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se.SET_USER:return Object(g.a)(Object(g.a)({},e),{},{user:t.user});case se.CHANGE_USER:return Object(g.a)(Object(g.a)({},e),{},{user:Object(g.a)(Object(g.a)({},e.user),{},{name:t.name,avatar:t.avatar})});case se.IS_INITIAL:case se.SET_LOADING:case se.SET_ERROR:case se.SET_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{loading:!1,success:!1,error:""},t.payload);default:return e}},register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ot.SET_LOADING:return Object(g.a)({},e);default:return e}},recoveryPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je.SET_LOADING:return Object(g.a)(Object(g.a)({},e),{},{loading:t.payload.loading,success:!1,error:""});case je.SET_SUCCESS:return Object(g.a)(Object(g.a)({},e),{},{loading:!1,success:t.payload.success,error:""});case je.SET_ERROR:return Object(g.a)(Object(g.a)({},e),{},{loading:!1,success:!1,error:t.payload.error});default:return e}},setPass:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nn.SET_LOADING:return Object(g.a)({},e);default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case An.SET_LOADING:return Object(g.a)({},e);default:return e}},packs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we.SET_LOADING:return Object(g.a)(Object(g.a)({},e),{},{error:"",loading:t.payload.loading});case we.SET_ERROR_PACKS:return Object(g.a)(Object(g.a)({},e),{},{loading:!1,error:t.payload.error});case we.SET_PACKS:return Object(g.a)(Object(g.a)({},e),t.payload);default:return e}},cards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_LOADING_CARDS:return Object(g.a)(Object(g.a)({},e),{},{loading:t.payload.loading});case r.SET_ERROR_CARDS:return Object(g.a)(Object(g.a)({},e),{},{loading:!1,error:t.payload.error});case r.SET_CARDS:return Object(g.a)(Object(g.a)({},e),t.data);default:return e}}}),wn=(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__,Sn.d),Ln=[En.a],Dn=wn(Sn.a.apply(void 0,Ln)),Gn=Object(Sn.e)(In,Dn);i.a.render(Object(C.jsx)(c.a.StrictMode,{children:Object(C.jsx)(o.a,{store:Gn,children:Object(C.jsx)(E.a,{children:Object(C.jsx)(Cn,{})})})}),document.getElementById("root")),kn()}]),[[110,1,2]]]);
//# sourceMappingURL=main.c2837120.chunk.js.map